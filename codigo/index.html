<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cadastro</title>
</head>

<body>
  <h2>Cadastro</h2>
  <form id="form" action="gravar.php" method="POST">


    <label for="nome">Nome:</label>
    <input type="text" id="nome" name="nome" placeholder="Digite o nome completo" required />



    <label for="endereco">Endereço:</label>
    <input type="text" id="endereco" name="endereco" placeholder="Digite o endereço completo" required />



    <label for="email">Email:</label>
    <input type="email" id="email" name="email" placeholder="exemplo@gmail.com" required />



    <label for="telefone">Telefone:</label>
    <input type="text" id="telefone" name="telefone" maxlength="14" placeholder="(00)00000-0000" required />



    <label for="cpf">CPF:</label>
    <input type="text" id="cpf" name="cpf" maxlength="14" placeholder="000.000.000-00" required />

    <input type="submit" value="Cadastrar" class="btn btn-primary" />

  </form>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const form = document.getElementById("form");

      form.addEventListener("submit", function (event) {
        let isValid = true;

        // Limpa mensagens de erro
        const errorMessages = document.querySelectorAll(".error");
        errorMessages.forEach(function (msg) {
          msg.remove();
        });

        // Valida o campo nome
        const nome = document.getElementById("nome");
        if (nome.value.trim().length < 6) {
          isValid = false;
          showError(nome, "O nome deve ter pelo menos 6 caracteres.");
        }

        // Valida o campo endereço
        const endereco = document.getElementById("endereco");
        if (endereco.value.trim().length < 3) {
          isValid = false;
          showError(endereco, "O endereço deve ter pelo menos 3 caracteres.");
        }

        // Valida o campo email
        const email = document.getElementById("email");
        if (!email.value.includes("@") || !email.value.includes(".")) {
          isValid = false;
          showError(email, "Insira um email válido.");
        }

        // Valida o campo telefone
        const telefone = document.getElementById("telefone");
        if (telefone.value.trim().length !== 14) {
          isValid = false;
          showError(telefone, "Insira o telefone no formato adequado (14 caracteres).");
        }

        // Valida o campo CPF
        const cpf = document.getElementById("cpf");
        if (cpf.value.trim().length !== 14) {
          isValid = false;
          showError(cpf, "Insira o CPF no formato adequado (14 caracteres).");
        }

        // Impede o envio do formulário se inválido
        if (!isValid) {
          event.preventDefault();
        }
      });

      // Função para exibir mensagem de erro
      function showError(input, message) {
        const error = document.createElement("span");
        error.className = "error";
        error.style.color = "red";
        error.textContent = message;
        input.insertAdjacentElement("afterend", error);
      }
    });
  </script>


</body>

</html>